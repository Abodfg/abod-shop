# دليل استخدام نظام Abod Card - الإصدار المحدّث

## نظرة عامة
نظام Abod Card هو منصة متكاملة ومتقدمة لبيع وإدارة البطاقات الرقمية عبر تليجرام، يتكون من:
- **بوت المستخدمين**: لتصفح وشراء البطاقات الرقمية مع أنواع تسليم متعددة
- **بوت الإدارة**: لإدارة المنتجات والأكواد والمستخدمين مع نظام إدارة متقدم
- **لوحة تحكم ويب محدّثة**: مع إحصائيات متقدمة وإدارة شاملة للأكواد والطلبات

## الوصول للنظام

### لوحة التحكم الويب
- الرابط: https://digital-shop-bot-1.preview.emergentagent.com
- اللغة: العربية مع دعم RTL
- التصميم: متجاوب لجميع الأجهزة

### البوتات على تليجرام
بعد تفعيل النظام عبر لوحة التحكم، ستحتاج للبحث عن البوتات:
- **بوت المستخدمين**: Token: `7933553585:AAHNAAxp2ZCVV_KqohmF2Mx5WL66__HYnno`
- **بوت الإدارة**: Token: `7835622090:AAGLTeEv-zUdNNkUrkS_L_FCd3zSUOosVeU`

## خطوات البدء السريع

### 1. تفعيل النظام
1. افتح لوحة التحكم الويب
2. انقر على زر "تفعيل البوتات" 
3. انتظر رسالة "تم تفعيل البوتات بنجاح!"
4. تأكد أن الحالة تغيرت إلى "البوت نشط"

### 2. إعداد البوت في تليجرام
1. ابحث عن البوتات في تليجرام باستخدام الـ tokens المذكورة أعلاه
2. أرسل `/start` لكل بوت
3. للمستخدمين: ستظهر قائمة بخيارات الشراء والمحفظة
4. للإدارة: ستظهر قائمة إدارة المنتجات والمستخدمين

## واجهات النظام المحدّثة

### لوحة التحكم الويب المطوّرة
#### النظرة العامة
- إحصائيات شاملة: المستخدمين، المنتجات، الطلبات، الإيرادات
- معلومات البوت وحالة النظام
- الإحصائيات المالية
- تعليمات الإعداد

#### تبويب المنتجات
- عرض جميع المنتجات
- حالة كل منتج (نشط/متوقف)
- إدارة عبر بوت الإدارة

#### تبويب المستخدمين
- قائمة المستخدمين المسجلين
- أرصدة المحافظ
- عدد الطلبات لكل مستخدم

#### تبويب الأكواد (جديد) 🎫
- إحصائيات المخزون لكل فئة
- مؤشرات حالة الأكواد: 🟢 جيد، 🟡 متوسط، 🔴 منخفض
- عدد الأكواد المتاحة والمستخدمة
- تحذيرات المخزون المنخفض

#### تبويب الطلبات المعلقة (جديد) 📋
- الطلبات التي تحتاج تنفيذ يدوي
- أنواع التسليم: 🎫 نفدت الأكواد، 📱 رقم هاتف، 📧 إيميل، 📝 يدوي
- بيانات المستخدم المدخلة (هاتف/إيميل)
- تاريخ كل طلب ومعلومات المستخدم

#### تبويب الطلبات المحدّث
- جميع الطلبات مع أنواع التسليم
- حالات مختلفة: مكتمل، قيد التنفيذ، فاشل  
- تفاصيل كل طلب مع نوع التسليم

### بوت المستخدمين
#### القائمة الرئيسية
- **🛒 الشراء**: تصفح المنتجات والفئات المتاحة
- **💰 عرض المحفظة**: رصيد الحساب وتاريخ الانضمام
- **📞 الدعم الفني**: التواصل مع @AbodStoreVIP
- **📋 تاريخ الطلبات**: جميع المشتريات السابقة

#### عملية الشراء
1. اختيار المنتج من قائمة المنتجات
2. اختيار الفئة والسعر
3. التأكد من كفاية الرصيد
4. إتمام الشراء والحصول على الكود فوراً (أو انتظار المعالجة اليدوية)

#### شحن المحفظة
1. اختر "شحن المحفظة"
2. أدخل المبلغ المطلوب
3. تواصل مع @AbodStoreVIP مع إيدي حسابك

### بوت الإدارة
#### إدارة المنتجات المحدّثة
- **➕ إضافة منتج جديد**: إدخال اسم، وصف، شروط
- **📝 تعديل منتج**: تحديث بيانات المنتجات الموجودة
- **🗑 حذف منتج**: إزالة منتج من النظام
- **📂 إضافة فئة متقدمة**: إضافة فئة مع اختيار نوع التسليم

**عملية إضافة الفئة (7 خطوات محدّثة):**
1. اختيار المنتج من القائمة المتاحة
2. إدخال اسم الفئة
3. إدخال وصف مفصل للفئة  
4. إدخال نوع/صنف الفئة
5. **اختيار نوع التسليم**: 🎫 كود تلقائي، 📱 رقم هاتف، 📧 إيميل، 📝 طلب يدوي
6. إدخال السعر بالدولار
7. إدخال طريقة الاسترداد والشروط النهائية

#### إدارة المستخدمين
- **💰 إضافة رصيد**: شحن محفظة أي مستخدم
- **👁 عرض المستخدمين**: إحصائيات شاملة
- عرض إجمالي الأرصدة والمستخدمين

#### إدارة الأكواد المطوّرة
- **➕ إضافة أكواد متنوعة**: إضافة أكواد بأنواع مختلفة (نصي، رقمي، مزدوج)
- **👁 عرض إحصائيات الأكواد**: متابعة المخزون مع مؤشرات اللون
- **🗑 حذف وإدارة الأكواد**: إدارة الأكواد المنتهية أو المُلغاة
- **⚠️ تحذيرات المخزون**: إنذار تلقائي عند وصول المخزون لـ 5 أكواد أو أقل

**أنواع الأكواد المدعومة:**
- **📝 نصي**: أكواد نصية مثل ABC123DEF
- **🔢 رقمي**: أكواد رقمية مثل 123456789  
- **🔗 مزدوج**: كود رئيسي + رقم سيريال منفصل

#### التقارير والإحصائيات
- إحصائيات شاملة: المستخدمين، الطلبات، الإيرادات
- تقارير يومية وإجمالية
- معدل نجاح المعاملات

#### إدارة الطلبات
- **الطلبات قيد التنفيذ**: طلبات تحتاج معالجة يدوية
- **⚡ تنفيذ طلب**: إرسال أكواد للطلبات المعلقة
- **📊 تقرير الطلبات**: إحصائيات مفصلة

## الميزات الجديدة في النظام المحدّث

### 🚀 نظام أنواع التسليم المتقدم
- **🎫 كود تلقائي**: يتم إرسال الكود فوراً بعد الشراء
- **📱 رقم هاتف**: المستخدم يدخل رقمه والإدارة تتواصل معه
- **📧 بريد إلكتروني**: المستخدم يدخل إيميله للتواصل
- **📝 طلب يدوي**: معالجة يدوية كاملة من الإدارة

### 🎯 نظام الأكواد المطوّر
- **نصي**: أكواد نصية (مثل: ABC123DEF)
- **رقمي**: أكواد رقمية (مثل: 123456789)
- **مزدوج**: كود + رقم سيريال منفصل
- **إنذارات ذكية**: تحذير عند نقص الأكواد إلى 5 أو أقل
- **إحصائيات مباشرة**: متابعة المخزون لكل فئة

### 📋 إدارة الطلبات المتقدمة
- **طلبات تلقائية**: تتم معالجتها فوراً إذا توفرت الأكواد
- **طلبات معلقة**: تظهر في لوحة إدارة منفصلة
- **تتبع بيانات المستخدم**: حفظ الهاتف/الإيميل للطلبات اليدوية
- **إشعارات ذكية**: إخطار الإدارة والمستخدم بتحديثات الحالة

## المميزات التقنية

### الأمان المحسّن
- webhook secrets للحماية من الطلبات المزيفة
- تشفير البيانات الحساسة
- فصل أذونات البوتات (مستخدم/إدارة)
- التحقق من صحة البيانات المدخلة (هاتف/إيميل)

### قاعدة البيانات المحدّثة
- MongoDB مع نماذج بيانات محسّنة
- دعم أنواع التسليم وأنواع الأكواد
- تتبع حالة الأكواد والطلبات
- حفظ بيانات المستخدم للطلبات اليدوية

### واجهة المستخدم المطوّرة
- تصميم Glassmorphism متقدم
- 6 تبويبات منظمة: النظرة العامة، المنتجات، الأكواد، الطلبات المعلقة، المستخدمون، الطلبات
- إحصائيات مباشرة ومفصلة
- دعم كامل للغة العربية مع RTL محسّن
- تصميم متجاوب مع رسوم متحركة سلسة

## نصائح للاستخدام الأمثل

### للمسؤولين
1. **إضافة المنتجات أولاً** قبل الفئات والأكواد
2. **إضافة أكواد كافية** لتجنب النفاد
3. **مراقبة التقارير** بانتظام لتتبع الأداء
4. **الرد السريع** على الطلبات قيد التنفيذ

### للمستخدمين
1. **شحن المحفظة مسبقاً** لتسريع عملية الشراء
2. **حفظ الأكواد في مكان آمن** بعد الاستلام
3. **قراءة الشروط** قبل الشراء
4. **التواصل مع الدعم** عند أي مشكلة

## استكشاف الأخطاء

### مشاكل شائعة وحلولها
- **البوت لا يرد**: تأكد من تفعيل الويب هوك عبر لوحة التحكم
- **رصيد غير كافي**: استخدم خيار شحن المحفظة
- **كود لم يصل**: تحقق من حالة الطلب في تاريخ الطلبات
- **مشكلة في الدفع**: تواصل مع الدعم الفني

### معلومات تقنية للمطورين
- **Backend**: FastAPI + Python
- **Frontend**: React + TailwindCSS
- **Database**: MongoDB
- **Telegram API**: python-telegram-bot
- **Deploy**: Kubernetes + Supervisor

## الدعم والمساعدة
للحصول على المساعدة:
- **للمستخدمين**: @AbodStoreVIP
- **دعم تقني**: من خلال لوحة التحكم
- **طوارئ**: فحص logs في `/var/log/supervisor/`

---
*تم إنشاء هذا الدليل للمساعدة في استخدام نظام Abod Card بكفاءة عالية*